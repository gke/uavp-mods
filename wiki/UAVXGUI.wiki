#summary Combines the functions of UAVXSet, UAVXGS and UAVXNav into one GUI.
#labels UAVXArm,UAVPSet,UAVXGS,UAVXNav,gke

= Introduction =

The original UAVPSet used an ad hoc serial communication protocol whilst UAVXGS and UAVXNav have used packet based communications from the outset. UAVXGUI replaces UAVXSet and binds the three tools into one.

To use UAVXGUI you must use flight code with a *P* in the version e.g. UAVXArm32F4_V3P.

UAVXSet, UAVXGS and UAVXNav will be maintained for a while but not too long!

Full telemetry is available at all times regardless of whether the aircraft is armed or not except where you use the main COM port for GPS - see below.

You should also refer to the Wikis for the old separate tools.

= GPS Connected to COM or Telemetry Port =

If you have GPS connected to the COM port Rx pin then you will have full downlink telemetry but you will not be able to change any parameters in flight including navigation missions. You arming switch needs to switch the between the Tx line from the GPS and the Tx line from your PC or RF link. UAVXGUI assumes this will be the case and will be looking for GPS packets when the aircraft is armed.  

If your Rx uses CPPM you should definitely be using RC3&4 for your GPS connection. In this case you will have full bi-directional telemetry and can change mission and most other parameters in flight providing you have an appropriate wireless link of course.

== Voice Feedback == 

Selectable voice feedback is available for those who like to look at the aircraft in flight rather than hopefully where it is on a screen. You may enable/disable reporting.

= Groundstation =

http://uavp-mods.googlecode.com/svn/branches/uavx_graphics/UAVXGUIMain.JPG


The main Ground Station window has the main instrumentation and replaces the test functions of UAVXSet. 

The buttons to the top right select the Parameter and navigation windows. Magnetometer and IMU (Gyros/Accs) calibration are below the Flags Box.  They are click to commence and are reset automatically (Green) when calibration is complete. If they are Red then the sensors are uncalibrated. This group of buttons also includes Spektrum and SBus loopback tests. All of these buttons are available only when disarmed.

= Parameters =

http://uavp-mods.googlecode.com/svn/branches/uavx_graphics/UAVXGUIParams.JPG

There is now only one page for parameters with the parameter set number being changed using the selector in the toolbar. As with UAVXSet Read and Write buttons must be used to update the aircraft's values. Currently there are two parameter sets available but there is no effective limit.

Parameter sets may be saved or loaded from file as required.

IMPORTANT: Some changes to the aircraft type, Rx type/mode or Emulation mode etc. may require a reset so that the hardware can be reconfigured SAFELY. If there is no response to UAVXGUI commands then check the LEDs to see if they are all flashing. If they are then power cycle the board. You will appreciate the safety aspects of switching say from a fixed wing aircraft to a multicopter where the previous midpoint servo setting will be interpreted by a multicopter as half throttle.

= Navigation =

http://uavp-mods.googlecode.com/svn/branches/uavx_graphics/UAVXGUINav.JPG

== Tx setup ==

By default the functions selected by Tx Channel 5 are PIC, Hold assist and RTH. If you check the WP navigation enabled checkbox the functions become Hold assist, Navigate and RTH. 

== Emulation ==

You should use *Emulation Mode* to help you become familiar with the mission planning and the effect of Channel 5 switch positions.

You select Emulation Mode using the Flight Mode checkbox. UAVX will then use representative physics to display what the aircraft is likely to do in flight; this includes GPS.  The emulation has a light breeze blowing to the NE and you will see the effect of this. 

To get you started Emulation Mode generates a representative mission plan which you may change.

*REMOVE YOUR PROPELLORS WHEN USING EMULATION*. The software should disarm motor function when emulation is selected but I don't trust software so neither should you.

== First Emulated Flight ==

Select the Read button or select  Read in the mouse right click menu. This should upload any mission currently stored in UAVX. In Emulation Mode you should see a simple mission displayed.

*WAIT* until the "Home Set" status box is lit signifying GPS lock has occurred and the origin has been acquired. 

Increase throttle and "fly" to around 15M. Slowly reduce the throttle to 45% which is hover. You should see the ROC drop to close to zero at which point the altitude hold will engage. 

Select Navigate on Channel 5. You should now see (and hear) the aircraft start to traverse the mission.  

Try selecting RTH then reselecting Navigate. Note you must go to Hold then back to Navigate otherwise RTH will continue.  Currently the mission is restarted not resumed where it left off.

== More Advanced ==

Most of the usual features you would expect are available:

  * The types of waypoints and some edits are available with right mouse click - the position of the mouse when you click will be the position of the waypoint.
  * The up/down buttons in the mission data box may be used to edit default values, change the waypoint sequence or delete individual waypoints.
  * Conditional waypoint sequences/loops are not currently available.

The waypoint types are currently:

  * VIA - where the aircraft pauses (T) at a waypoint attempting to stay within the proximity radius and altitude limits. If the time is set to zero then the aircraft must go through the waypoint within the proximity radius but not necessarily the altitude.
  * ORBIT - orbits the waypoint at the radius (R) with a velocity (V). UAVX will point an camera at the waypoint - not implemented as at Feb 8 2015 so reverts to VIA. 
  * PERCH - lands at the waypoint then takes off and resumes mission. 
  * Set POI - this is not a waypoint as such just a point that the aircraft will point to for the rest of the mission or until another Set POI is encountered.
  * Although not displayed RTH is always the default last waypoint. If there is no mission then selecting Navigate results in RTH.

If you do not designate a POI then the normal Turn To WP or hold heading configuration applies.

Any changes to the mission do not become effective until you *select Write*. You should always select Read immediately after to satisfy yourself that the mission appears OK.

Note: UAVXSet also allows you to check whether a current mission is loaded in the *Setup Test*.  

== Go To ==

If the Go To checkbox is checked then a right click of the mouse will generate a 1 point mission. This allows you to fly to a designated point dynamically with no control inputs. Again you must select Write to upload the mission change.

== Finally ==

It is important to familiarise yourself with what happens when you change the Channel 5 switch selection. Some of the changes may not be exactly as you expect and it is better to see the effect under emulation ;). 